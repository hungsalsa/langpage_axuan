function numberToCurrency(r,e,t,i){e=e||".",t=t||",",i=null==i?2:i;var n=r.toFixed(i),s=new RegExp("^(-?\\d{1,3})((?:\\d{3})+)(\\.(\\d{"+i+"}))?$").exec(n);return s?s[1]+s[2].replace(/\d{3}/g,t+"$&")+(s[4]?e+s[4]:""):n.replace(".",e)}$(function(){var r=$("#register_product_id").val();1==parseInt(r)&&($("#form_price").css("display","none"),$("#register_quantity").css("display","none")),$("#register-quantity").on("input",function(){var r=$("#register_product_id").val();if(1<parseInt(r)&&void 0!==r){var e=$(this).data("url"),t=$(this).val();return $.ajax({url:e,type:"POST",dataType:"JSON",data:{idPro:r},success:function(r){var e=$("#form_price");1!=parseInt(r.id)&&null!=r.price_f&&e.children(".register_price").html("<strong>"+r.price_f+"</strong> => thành tiền: <strong>"+numberToCurrency(r.price*t,0,".",",")+"</strong> <sup>đ</sup>")}}),!1}}),$("#register_product_id").on("change",function(){var r=$(this).data("url"),e=$(this).val();return $.ajax({url:r,type:"POST",dataType:"JSON",data:{idPro:e},success:function(r){var e=$("#form_price"),t=$("#register_quantity"),i=$("#register-quantity");1!=parseInt(r.id)&&null!=r.price_f&&(e.css("display","block"),t.css("display","block"),e.children(".register_price").html("<strong>"+r.price_f+"</strong> => thành tiền: <strong>"+numberToCurrency(r.price*i.val(),0,".",",")+"</strong> <sup>đ</sup>")),1!=r.id&&void 0!==r.id||(t.css("display","none"),$("#form_price").css("display","none"))}}),!1})});