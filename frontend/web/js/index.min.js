function numberToCurrency(r,e,i,n){e=e||".",i=i||",",n=null==n?2:n;var p=r.toFixed(n),a=new RegExp("^(-?\\d{1,3})((?:\\d{3})+)(\\.(\\d{"+n+"}))?$").exec(p);return a?a[1]+a[2].replace(/\d{3}/g,i+"$&")+(a[4]?e+a[4]:""):p.replace(".",e)}$(function(){$("#register_product_id").on("change",function(){var r=$(this).data("url");$(this).val();return $.ajax({url:r,type:"POST",dataType:"JSON",data:{idPro:$(this).val()},success:function(r){var e="";void 0!==r.price&&(price=r.price,price_f=r.price_f,e+="Đơn giá: <span>"+price_f+"<sup>đ<sup></span>");var i=$("#register_quantity").val();0<i&&0<parseInt(r.price)&&(e+="*  Thành tiền: <span>"+price*i+"<sup>đ<sup></span>"),$("#result").html(e),e=""}}),!1}),$("#register_quantity").on("input",function(){var r=$("#register_product_id").val();if(0<parseInt(r)){var e=$(this).data("url"),i=$(this).val();return $.ajax({url:e,type:"POST",dataType:"JSON",data:{idPro:r},success:function(r){var e="";void 0!==r.price&&(price=r.price,price_f=r.price_f,e+="Đơn giá: <span>"+price_f+"<sup>đ<sup></span>"),0<i&&0<parseInt(r.price)&&(e+="*  Thành tiền: <span>"+numberToCurrency(price*i,0,".",",")+"<sup>đ<sup></span>"),$("#result").html(e),e="",console.log(r),console.log(i)}}),!1}})});